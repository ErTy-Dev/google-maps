/*! For license information please see clasterMap.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={63:t=>{t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var s,n,o;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(n=s;0!=n--;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(n=s;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=s;0!=n--;){var i=o[n];if(!t(e[i],r[i]))return!1}return!0}return e!=e&&r!=r}}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=r(63),e=r.n(t);const s=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class n{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,r]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const o=r>>4;if(1!==o)throw new Error(`Got v${o} data when expected v1.`);const i=s[15&r];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[h]=new Uint32Array(t,4,1);return new n(h,a,i,t)}constructor(t,e=64,r=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const o=s.indexOf(this.ArrayType),i=2*t*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,h=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+h,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+i+a+h),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+h,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return o(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:o,nodeSize:i}=this,a=[0,n.length-1,0],h=[];for(;a.length;){const l=a.pop()||0,c=a.pop()||0,u=a.pop()||0;if(c-u<=i){for(let i=u;i<=c;i++){const a=o[2*i],l=o[2*i+1];a>=t&&a<=r&&l>=e&&l<=s&&h.push(n[i])}continue}const p=u+c>>1,m=o[2*p],d=o[2*p+1];m>=t&&m<=r&&d>=e&&d<=s&&h.push(n[p]),(0===l?t<=m:e<=d)&&(a.push(u),a.push(p-1),a.push(1-l)),(0===l?r>=m:s>=d)&&(a.push(p+1),a.push(c),a.push(1-l))}return h}within(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:n,nodeSize:o}=this,i=[0,s.length-1,0],a=[],h=r*r;for(;i.length;){const c=i.pop()||0,u=i.pop()||0,p=i.pop()||0;if(u-p<=o){for(let r=p;r<=u;r++)l(n[2*r],n[2*r+1],t,e)<=h&&a.push(s[r]);continue}const m=p+u>>1,d=n[2*m],g=n[2*m+1];l(d,g,t,e)<=h&&a.push(s[m]),(0===c?t-r<=d:e-r<=g)&&(i.push(p),i.push(m-1),i.push(1-c)),(0===c?t+r>=d:e+r>=g)&&(i.push(m+1),i.push(u),i.push(1-c))}return a}}function o(t,e,r,s,n,a){if(n-s<=r)return;const h=s+n>>1;i(t,e,h,s,n,a),o(t,e,r,s,h-1,1-a),o(t,e,r,h+1,n,1-a)}function i(t,e,r,s,n,o){for(;n>s;){if(n-s>600){const a=n-s+1,h=r-s+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(h-a/2<0?-1:1);i(t,e,r,Math.max(s,Math.floor(r-h*c/a+u)),Math.min(n,Math.floor(r+(a-h)*c/a+u)),o)}const h=e[2*r+o];let l=s,c=n;for(a(t,e,s,r),e[2*n+o]>h&&a(t,e,s,n);l<c;){for(a(t,e,l,c),l++,c--;e[2*l+o]<h;)l++;for(;e[2*c+o]>h;)c--}e[2*s+o]===h?a(t,e,s,c):(c++,a(t,e,c,n)),c<=r&&(s=c+1),r<=c&&(n=c-1)}}function a(t,e,r,s){h(t,r,s),h(e,2*r,2*s),h(e,2*r+1,2*s+1)}function h(t,e,r){const s=t[e];t[e]=t[r],t[r]=s}function l(t,e,r,s){const n=t-r,o=e-s;return n*n+o*o}const c={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},u=Math.fround||(p=new Float32Array(1),t=>(p[0]=+t,p[0]));var p;const m=3,d=5,g=6;class f{constructor(t){this.options=Object.assign(Object.create(c),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:r,maxZoom:s}=this.options;e&&console.time("total time");const n=`prepare ${t.length} points`;e&&console.time(n),this.points=t;const o=[];for(let e=0;e<t.length;e++){const r=t[e];if(!r.geometry)continue;const[s,n]=r.geometry.coordinates,i=u(w(s)),a=u(M(n));o.push(i,a,1/0,e,-1,1),this.options.reduce&&o.push(0)}let i=this.trees[s+1]=this._createTree(o);e&&console.timeEnd(n);for(let t=s;t>=r;t--){const r=+Date.now();i=this.trees[t]=this._createTree(this._cluster(i,t)),e&&console.log("z%d: %d clusters in %dms",t,i.numItems,+Date.now()-r)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[1]));let n=180===t[2]?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,n=180;else if(r>n){const t=this.getClusters([r,s,180,o],e),i=this.getClusters([-180,s,n,o],e);return t.concat(i)}const i=this.trees[this._limitZoom(e)],a=i.range(w(r),M(o),w(n),M(s)),h=i.data,l=[];for(const t of a){const e=this.stride*t;l.push(h[e+d]>1?y(h,e,this.clusterProps):this.points[h[e+m]])}return l}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),s="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(s);const o=n.data;if(e*this.stride>=o.length)throw new Error(s);const i=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=o[e*this.stride],h=o[e*this.stride+1],l=n.within(a,h,i),c=[];for(const e of l){const r=e*this.stride;o[r+4]===t&&c.push(o[r+d]>1?y(o,r,this.clusterProps):this.points[o[r+m]])}if(0===c.length)throw new Error(s);return c}getLeaves(t,e,r){e=e||10,r=r||0;const s=[];return this._appendLeaves(s,t,e,r,0),s}getTile(t,e,r){const s=this.trees[this._limitZoom(t)],n=Math.pow(2,t),{extent:o,radius:i}=this.options,a=i/o,h=(r-a)/n,l=(r+1+a)/n,c={features:[]};return this._addTileFeatures(s.range((e-a)/n,h,(e+1+a)/n,l),s.data,e,r,n,c),0===e&&this._addTileFeatures(s.range(1-a/n,h,1,l),s.data,n,r,n,c),e===n-1&&this._addTileFeatures(s.range(0,h,a/n,l),s.data,-1,r,n,c),c.features.length?c:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,s,n){const o=this.getChildren(e);for(const e of o){const o=e.properties;if(o&&o.cluster?n+o.point_count<=s?n+=o.point_count:n=this._appendLeaves(t,o.cluster_id,r,s,n):n<s?n++:t.push(e),t.length===r)break}return n}_createTree(t){const e=new n(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<t.length;r+=this.stride)e.add(t[r],t[r+1]);return e.finish(),e.data=t,e}_addTileFeatures(t,e,r,s,n,o){for(const i of t){const t=i*this.stride,a=e[t+d]>1;let h,l,c;if(a)h=k(e,t,this.clusterProps),l=e[t],c=e[t+1];else{const r=this.points[e[t+m]];h=r.properties;const[s,n]=r.geometry.coordinates;l=w(s),c=M(n)}const u={type:1,geometry:[[Math.round(this.options.extent*(l*n-r)),Math.round(this.options.extent*(c*n-s))]],tags:h};let p;p=a||this.options.generateId?e[t+m]:this.points[e[t+m]].id,void 0!==p&&(u.id=p),o.features.push(u)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:r,extent:s,reduce:n,minPoints:o}=this.options,i=r/(s*Math.pow(2,e)),a=t.data,h=[],l=this.stride;for(let r=0;r<a.length;r+=l){if(a[r+2]<=e)continue;a[r+2]=e;const s=a[r],c=a[r+1],u=t.within(a[r],a[r+1],i),p=a[r+d];let m=p;for(const t of u){const r=t*l;a[r+2]>e&&(m+=a[r+d])}if(m>p&&m>=o){let t,o=s*p,i=c*p,g=-1;const f=((r/l|0)<<5)+(e+1)+this.points.length;for(const s of u){const h=s*l;if(a[h+2]<=e)continue;a[h+2]=e;const c=a[h+d];o+=a[h]*c,i+=a[h+1]*c,a[h+4]=f,n&&(t||(t=this._map(a,r,!0),g=this.clusterProps.length,this.clusterProps.push(t)),n(t,this._map(a,h)))}a[r+4]=f,h.push(o/m,i/m,1/0,f,-1,m),n&&h.push(g)}else{for(let t=0;t<l;t++)h.push(a[r+t]);if(m>1)for(const t of u){const r=t*l;if(!(a[r+2]<=e)){a[r+2]=e;for(let t=0;t<l;t++)h.push(a[r+t])}}}}return h}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,r){if(t[e+d]>1){const s=this.clusterProps[t[e+g]];return r?Object.assign({},s):s}const s=this.points[t[e+m]].properties,n=this.options.map(s);return r&&n===s?Object.assign({},n):n}}function y(t,e,r){return{type:"Feature",id:t[e+m],properties:k(t,e,r),geometry:{type:"Point",coordinates:[(s=t[e],360*(s-.5)),x(t[e+1])]}};var s}function k(t,e,r){const s=t[e+d],n=s>=1e4?`${Math.round(s/1e3)}k`:s>=1e3?Math.round(s/100)/10+"k":s,o=t[e+g],i=-1===o?{}:Object.assign({},r[o]);return Object.assign(i,{cluster:!0,cluster_id:t[e+m],point_count:s,point_count_abbreviated:n})}function w(t){return t/360+.5}function M(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function x(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}class _{static isAdvancedMarkerAvailable(t){return google.maps.marker&&!0===t.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,e){this.isAdvancedMarker(t)?t.map=e:t.setMap(e)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return!!this.isAdvancedMarker(t)||t.getVisible()}}class v{constructor({markers:t,position:e}){this.markers=t,e&&(e instanceof google.maps.LatLng?this._position=e:this._position=new google.maps.LatLng(e))}get bounds(){if(0===this.markers.length&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const e of this.markers)t.extend(_.getPosition(e));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((t=>_.getVisible(t))).length}push(t){this.markers.push(t)}delete(){this.marker&&(_.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class A{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return b(t)}}const b=t=>t.map((t=>new v({position:_.getPosition(t),markers:[t]})));class E extends A{constructor(t){var{maxZoom:e,radius:r=60}=t,s=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]])}return r}(t,["maxZoom","radius"]);super({maxZoom:e}),this.state={zoom:-1},this.superCluster=new f(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(t){let r=!1;const s={zoom:t.map.getZoom()};if(!e()(t.markers,this.markers)){r=!0,this.markers=[...t.markers];const e=this.markers.map((t=>{const e=_.getPosition(t);return{type:"Feature",geometry:{type:"Point",coordinates:[e.lng(),e.lat()]},properties:{marker:t}}}));this.superCluster.load(e)}return r||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(r=!e()(this.state,s)),this.state=s,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((t=>this.transformCluster(t)))}transformCluster({geometry:{coordinates:[t,e]},properties:r}){if(r.cluster)return new v({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((t=>t.properties.marker)),position:{lat:e,lng:t}});const s=r.marker;return new v({markers:[s],position:_.getPosition(s)})}}class C{constructor(t,e){this.markers={sum:t.length};const r=e.map((t=>t.count)),s=r.reduce(((t,e)=>t+e),0);this.clusters={count:e.length,markers:{mean:s/e.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class O{render({count:t,position:e},r,s){const n=`<svg fill="${t>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>\n</svg>`,o=`Cluster of ${t} markers`,i=Number(google.maps.Marker.MAX_ZINDEX)+t;if(_.isAdvancedMarkerAvailable(s)){const t=(new DOMParser).parseFromString(n,"image/svg+xml").documentElement;t.setAttribute("transform","translate(0 25)");const r={map:s,position:e,zIndex:i,title:o,content:t};return new google.maps.marker.AdvancedMarkerElement(r)}const a={position:e,zIndex:i,title:o,icon:{url:`data:image/svg+xml;base64,${btoa(n)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(a)}}class I{constructor(){!function(t,e){for(let r in e.prototype)t.prototype[r]=e.prototype[r]}(I,google.maps.OverlayView)}}var P;!function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"}(P||(P={}));const L=(t,e,r)=>{r.fitBounds(e.bounds)};class T extends I{constructor({map:t,markers:e=[],algorithmOptions:r={},algorithm:s=new E(r),renderer:n=new O,onClusterClick:o=L}){super(),this.markers=[...e],this.clusters=[],this.algorithm=s,this.renderer=n,this.onClusterClick=o,t&&this.setMap(t)}addMarker(t,e){this.markers.includes(t)||(this.markers.push(t),e||this.render())}addMarkers(t,e){t.forEach((t=>{this.addMarker(t,!0)})),e||this.render()}removeMarker(t,e){const r=this.markers.indexOf(t);return-1!==r&&(_.setMap(t,null),this.markers.splice(r,1),e||this.render(),!0)}removeMarkers(t,e){let r=!1;return t.forEach((t=>{r=this.removeMarker(t,!0)||r})),r&&!e&&this.render(),r}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,P.CLUSTERING_BEGIN,this);const{clusters:e,changed:r}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(r||null==r){const t=new Set;for(const r of e)1==r.markers.length&&t.add(r.markers[0]);const r=[];for(const e of this.clusters)null!=e.marker&&(1==e.markers.length?t.has(e.marker)||_.setMap(e.marker,null):r.push(e.marker));this.clusters=e,this.renderClusters(),requestAnimationFrame((()=>r.forEach((t=>_.setMap(t,null)))))}google.maps.event.trigger(this,P.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((t=>_.setMap(t,null))),this.clusters.forEach((t=>t.delete())),this.clusters=[]}renderClusters(){const t=new C(this.markers,this.clusters),e=this.getMap();this.clusters.forEach((r=>{1===r.markers.length?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,t,e),r.markers.forEach((t=>_.setMap(t,null))),this.onClusterClick&&r.marker.addListener("click",(t=>{google.maps.event.trigger(this,P.CLUSTER_CLICK,r),this.onClusterClick(t,r,e)}))),_.setMap(r.marker,e)}))}}const Z=[{lat:-31.56391,lng:147.154312},{lat:-33.718234,lng:150.363181},{lat:-33.727111,lng:150.371124},{lat:-33.848588,lng:151.209834},{lat:-33.851702,lng:151.216968},{lat:-34.671264,lng:150.863657},{lat:-35.304724,lng:148.662905},{lat:-36.817685,lng:175.699196},{lat:-36.828611,lng:175.790222},{lat:-37.75,lng:145.116667},{lat:-37.759859,lng:145.128708},{lat:-37.765015,lng:145.133858},{lat:-37.770104,lng:145.143299},{lat:-37.7737,lng:145.145187},{lat:-37.774785,lng:145.137978},{lat:-37.819616,lng:144.968119},{lat:-38.330766,lng:144.695692},{lat:-39.927193,lng:175.053218},{lat:-41.330162,lng:174.865694},{lat:-42.734358,lng:147.439506},{lat:-42.734358,lng:147.501315},{lat:-42.735258,lng:147.438},{lat:-43.999792,lng:170.463352}];window.initMap=function(){const t=new google.maps.Map(document.getElementById("map"),{zoom:3,center:{lat:-28.024,lng:140.887}}),e=new google.maps.InfoWindow({content:"",disableAutoPan:!0}),r=Z.map(((r,s)=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[s%26],o=new google.maps.Marker({position:r,label:n});return o.addListener("click",(()=>{e.setContent(n),e.open(t,o)})),o}));new T({markers:r,map:t})}})()})();